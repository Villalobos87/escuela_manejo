<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Nueva Inscripci贸n</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-dark text-white">
    <div class="container mt-5">
        <h2 class="text-center mb-4">Nueva Inscripci贸n</h2>
        <div class="card card-body bg-secondary text-white mx-auto" style="max-width: 600px;">
            
            {% if conflict_task %}
<div class="alert alert-danger">
    <strong>Conflicto con otra Inscripci贸n existente:</strong><br>
    <ul class="mb-0">
        <li><strong>Nombre:</strong> {{ conflict_task.title }}</li>
        <li><strong>Apellido:</strong> {{ conflict_task.description }}</li>
        <li><strong>Instructor:</strong> {{ conflict_task.instructor }}</li>
        <li><strong>Fecha:</strong> {{ conflict_task.fecha_inicio }} - {{ conflict_task.fecha_fin }}</li>
        <li><strong>Hora:</strong> {{ conflict_task.hora }}</li>
    </ul>
</div>
{% endif %}
            
            <form method="POST">
                {% csrf_token %}

                <div class="mb-3">
                    <label>Nombre:</label>
                    <input type="text" name="title" class="form-control" required>
                </div>

                <div class="mb-3">
                    <label>Apellido:</label>
                    <textarea name="description" class="form-control" required></textarea>
                </div>

                <div class="mb-3">
                    <label>Fecha de Inicio:</label>
                    <input type="date" name="fecha_inicio" class="form-control" required>
                </div>

                <div class="mb-3">
                    <label>Fecha de Finalizaci贸n:</label>
                    <input type="date" name="fecha_fin" class="form-control" required>
                </div>

                <div class="mb-3">
                    <label>Hora:</label>
                    <input type="time" name="hora" class="form-control" required>
                </div>

                <div class="mb-3">
                    <label>Instructor:</label>
                    <select name="instructor" class="form-select" required>
                        <option value="" disabled {% if not form_data.instructor %}selected{% endif %}>Selecciona un instructor</option>
            {% for instructor in instructores %}
                <option value="{{ instructor.id }}"
                    {% if form_data.instructor == instructor.id|stringformat:"s" %}selected{% endif %}>
                    {{ instructor.nombre }}
                </option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary w-100">Guardar</button>
    <a href="{% url 'list_tasks' %}" class="btn btn-light mt-2 w-100">Cancelar</a>
</form>

        </div>
    </div>
</body>
</html>